$(document).ready(function(){"use strict";function l(a){return a=a.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(a){return'<a href="'+a+'" >'+a+"</a>"}),a=a.replace(/\B@([_a-z0-9]+)/gi,function(a){return'<a href="http://twitter.com/'+a.substring(1)+'" style="font-weight:lighter;" target="_blank">'+a.charAt(0)+a.substring(1)+"</a>"}),a=a.replace(/\B#([_a-z0-9]+)/gi,function(a){return'<a href="https://twitter.com/search?q='+a.substring(1)+'" style="font-weight:lighter;" target="_blank">'+a.charAt(0)+a.substring(1)+"</a>"})}var a=3,d=!1,e=!0,f=!0,h=!0,i=!0,j="",k="";j+="",j+="",k+='<div id="loading-container">loading...</div>',$("#twitter-feed").html(j+k),$.getJSON("php/get-tweets.php",function(b){function t(){function i(){$("#tw"+f).css({display:"block"}),$("#tw"+f).css("margin-top",-c),$("#tw"+f).animate({opacity:1,"margin-top":0},b,function(){$("#tw"+f).delay(a).animate({opacity:0,"margin-top":d},b,function(){$("#tw"+f).css({display:"none","margin-top":0}),f<g-2+e?f++:f=0+e,setTimeout(i,0)})})}for(var a=5e3,b=500,c=30,d=-30,e=1,f=e,h=e;h<g;h++)$("#tw"+h).css({display:"none",opacity:0});i()}for(var c="",g=1,k=0;k<b.length;k++){var m=b[k].user.name,n=b[k].user.screen_name,o=b[k].user.profile_image_url_https,p=b[k].text,q=!1,r=!1,s=b[k].id_str;"undefined"!=typeof b[k].retweeted_status&&(o=b[k].retweeted_status.user.profile_image_url_https,m=b[k].retweeted_status.user.name,n=b[k].retweeted_status.user.screen_name,s=b[k].retweeted_status.id_str,p=b[k].retweeted_status.text,q=!0),"@"==b[k].text.substr(0,1)&&(r=!0),(1==e||0==q&&0==e)&&(1==d||0==d&&0==r)&&b[k].text.length>1&&g<=a&&(1==f&&(p=l(p)),1==g&&(c+=j),c+='<div class="twitter-article" id="tw'+g+'">',c+="<li>"+p,1==q&&1==i&&(c+='<div id="retweet-indicator"></div>'),1==h&&(c+='<div id="twitter-actions"><div class="intent" id="intent-reply"><a href="https://twitter.com/intent/tweet?in_reply_to='+s+'" title="Reply"></a></div><div class="intent" id="intent-retweet"><a href="https://twitter.com/intent/retweet?tweet_id='+s+'" title="Retweet"></a></div><div class="intent" id="intent-fave"><a href="https://twitter.com/intent/favorite?tweet_id='+s+'" title="Favourite"></a></div></div>'),c+="</li>",c+="</div>",g++)}$("#twitter-feed").html(c),t(),1==h&&($(".twitter-article").hover(function(){$(this).find("#twitter-actions").css({display:"block",opacity:0}),$(this).find("#twitter-actions").animate({opacity:1},200)},function(){$(this).find("#twitter-actions").animate({opacity:0},120,function(){$(this).css("display","none")})}),$("#twitter-actions a").click(function(){var a=$(this).attr("href");return window.open(a,"tweet action window","width=580,height=500"),!1}))}).error(function(a,b,c){var d="";d=0===a.status?"Connection problem. Check file path and www vs non-www in getJSON request":404==a.status?"Requested page not found. [404]":500==a.status?"Internal Server Error [500].":"parsererror"===exception?"Requested JSON parse failed.":"timeout"===exception?"Time out error.":"abort"===exception?"Ajax request aborted.":"Uncaught Error.\n"+a.responseText,alert("error: "+d)})});